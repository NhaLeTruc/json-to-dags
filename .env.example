# Apache Airflow ETL Demo Platform - Environment Variables Template
# Copy this file to .env and update with your actual values
# DO NOT commit .env file to version control

# ==============================================================================
# Airflow Configuration
# ==============================================================================

# Airflow Core
AIRFLOW_UID=50000
AIRFLOW__CORE__EXECUTOR=LocalExecutor
AIRFLOW__CORE__SQL_ALCHEMY_CONN=postgresql+psycopg2://airflow:airflow@airflow-postgres/airflow
AIRFLOW__CORE__FERNET_KEY=
AIRFLOW__CORE__DAGS_ARE_PAUSED_AT_CREATION=true
AIRFLOW__CORE__LOAD_EXAMPLES=false
AIRFLOW__CORE__LOAD_DEFAULT_CONNECTIONS=false

# Airflow Webserver
AIRFLOW__WEBSERVER__SECRET_KEY=
AIRFLOW__WEBSERVER__EXPOSE_CONFIG=true
AIRFLOW__WEBSERVER__RBAC=true

# Airflow Scheduler
AIRFLOW__SCHEDULER__DAG_DIR_LIST_INTERVAL=30

# Airflow Logging
AIRFLOW__LOGGING__LOGGING_LEVEL=INFO
AIRFLOW__LOGGING__FAB_LOGGING_LEVEL=WARNING

# ==============================================================================
# Database Configuration
# ==============================================================================

# Airflow Metadata Database
POSTGRES_AIRFLOW_USER=airflow
POSTGRES_AIRFLOW_PASSWORD=airflow
POSTGRES_AIRFLOW_DB=airflow
POSTGRES_AIRFLOW_HOST=airflow-postgres
POSTGRES_AIRFLOW_PORT=5432

# Mock Data Warehouse
POSTGRES_WAREHOUSE_USER=warehouse_user
POSTGRES_WAREHOUSE_PASSWORD=warehouse_pass
POSTGRES_WAREHOUSE_DB=warehouse
POSTGRES_WAREHOUSE_HOST=airflow-warehouse
POSTGRES_WAREHOUSE_PORT=5432

# ==============================================================================
# SMTP Configuration (for email notifications)
# ==============================================================================

AIRFLOW__SMTP__SMTP_HOST=smtp.gmail.com
AIRFLOW__SMTP__SMTP_STARTTLS=true
AIRFLOW__SMTP__SMTP_SSL=false
AIRFLOW__SMTP__SMTP_PORT=587
AIRFLOW__SMTP__SMTP_USER=your-email@gmail.com
AIRFLOW__SMTP__SMTP_PASSWORD=your-app-password
AIRFLOW__SMTP__SMTP_MAIL_FROM=your-email@gmail.com

# ==============================================================================
# Notification Integrations
# ==============================================================================

# MS Teams
TEAMS_WEBHOOK_URL=https://outlook.office.com/webhook/your-webhook-url

# Telegram
TELEGRAM_BOT_TOKEN=123456789:ABCdefGHIjklMNOpqrsTUVwxyz
TELEGRAM_CHAT_ID=your-chat-id

# ==============================================================================
# Spark Configuration
# ==============================================================================

# Spark Standalone
SPARK_MASTER_URL=spark://spark-master:7077

# Spark on Kubernetes
SPARK_K8S_NAMESPACE=spark-jobs
SPARK_K8S_SERVICE_ACCOUNT=spark

# ==============================================================================
# Application Settings
# ==============================================================================

# Environment
APP_ENV=development

# Data Generation Seeds (for reproducible test data)
DATA_SEED=42

# ==============================================================================
# Security & Secrets
# ==============================================================================

# IMPORTANT: Protect your .env file!
# - Never commit .env to version control (it's in .gitignore)
# - For production deployments, use:
#   * Docker secrets (docker-compose secrets)
#   * Kubernetes secrets
#   * AWS Secrets Manager / Azure Key Vault / GCP Secret Manager
#   * HashiCorp Vault
#   * Environment variables from CI/CD systems

# Fernet Key: Used to encrypt Airflow connections and variables in database
# REQUIRED: Generate a strong key before first deployment
# Generate with: python -c "from cryptography.fernet import Fernet; print(Fernet.generate_key().decode())"
AIRFLOW__CORE__FERNET_KEY=

# Webserver Secret Key: Used for Flask session encryption
# REQUIRED: Generate a strong key before first deployment
# Generate with: python -c "import secrets; print(secrets.token_urlsafe(32))"
AIRFLOW__WEBSERVER__SECRET_KEY=

# NOTE: Empty keys above are INSECURE and only suitable for local development.
# Production deployments MUST set these to secure random values.
